import{c9 as D,aJ as p,a4 as C,bb as l,a7 as t,d as s,bD as r,ad as d,Q as c,u as _,a6 as $,a5 as v,aM as M,aK as A,bE as T,j as N,r as z,aR as V}from"./index.3a4b8579.js";import{Q as h}from"./QSeparator.4ece9d14.js";import{b as i,Q as n}from"./QCard.f83ee168.js";import{Q as f,a as e,b as E}from"./module_calls.84a9dba3.js";import{u as w}from"./index.e6d7be40.js";import{u as I}from"./account-store.9349d805.js";import{g as y}from"./get-css-var.23548d6a.js";import{u as O}from"./sale-store.56b79a56.js";import{u as R}from"./auth-store.baf439d2.js";import{h as B}from"./helpers.6384b5cb.js";const q=x=>(M("data-v-7266942e"),x=x(),A(),x),j={class:"text-center q-pa-sm"},J={style:{color:"#017951"}},K={class:"desktop_stats row q-pa-sm"},L={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},W=q(()=>t("hr",null,null,-1)),F={class:"q-ma-sm small_text"},G={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},H=q(()=>t("hr",null,null,-1)),U={class:"q-ma-sm small_text"},X={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Y=q(()=>t("hr",null,null,-1)),Z={class:"q-ma-sm small_text"},ss={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},as=q(()=>t("hr",null,null,-1)),ls={class:"q-ma-sm small_text"},ts={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},es=q(()=>t("hr",null,null,-1)),os={class:"q-ma-sm small_text"},_s={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ds=q(()=>t("hr",null,null,-1)),cs={class:"q-ma-sm small_text"},ns={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},rs=q(()=>t("hr",null,null,-1)),us={class:"q-ma-sm small_text"},is={key:1,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ms=q(()=>t("hr",null,null,-1)),hs={class:"q-ma-sm small_text"},fs={class:"mobile_stats q-pa-sm"},ps={__name:"StatsToday",setup(x){const o=I();return w("account_stats_today",()=>o.fetchTodaySalesStats()),(k,b)=>(p(),C(n,null,{default:l(()=>{var m,u;return[t("div",j,[t("b",J,[s(r,{name:"grain"}),d(" Today Sales")])]),s(h,{color:"primary"}),t("div",K,[t("div",L,[s(n,{dark:"",class:"bg-primary"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Total "),W,t("h6",F,c((a=_(o))==null?void 0:a.total_daily_sales),1)]}),_:1})]),_:1})]),t("div",G,[s(n,{dark:"",class:"bg-info"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Cash "),H,t("h6",U,c((a=_(o))==null?void 0:a.total_daily_cash_sales),1)]}),_:1})]),_:1})]),t("div",X,[s(n,{dark:"",class:"bg-warning"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Mpesa "),Y,t("h6",Z,c((a=_(o))==null?void 0:a.total_daily_mpesa_sales),1)]}),_:1})]),_:1})]),t("div",ss,[s(n,{dark:"",class:"bg-indigo"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Mpesa & Cash "),as,t("h6",ls,c((a=_(o))==null?void 0:a.total_daily_mpesa_cash_sales),1)]}),_:1})]),_:1})]),t("div",ts,[s(n,{dark:"",class:"bg-dark"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Debts "),es,t("h6",os,c((a=_(o))==null?void 0:a.total_daily_debt_sales),1)]}),_:1})]),_:1})]),t("div",_s,[s(n,{dark:"",class:"bg-brown"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Card "),ds,t("h6",cs,c((a=_(o))==null?void 0:a.total_daily_card_sales),1)]}),_:1})]),_:1})]),((m=_(o))==null?void 0:m.total_daily_pending_sales)>0?(p(),$("div",ns,[s(n,{dark:"",style:{"background-color":"red"}},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" No. of Pending Bills "),rs,t("h6",us,c((a=_(o))==null?void 0:a.total_daily_pending_sales),1)]}),_:1})]),_:1})])):v("",!0),((u=_(o))==null?void 0:u.total_daily_pending_sales)>0?(p(),$("div",is,[s(n,{dark:"",style:{"background-color":"teal"}},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Purchases/Inventory "),ms,t("h6",hs,c((a=_(o))==null?void 0:a.total_daily_expense),1)]}),_:1})]),_:1})])):v("",!0)]),t("div",fs,[s(E,{bordered:""},{default:l(()=>[s(f,{dark:"",class:"bg-primary"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Total")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-info"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Cash")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_cash_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-warning"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Mpesa")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_mpesa_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-indigo"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Mpesa & Cash")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_mpesa_cash_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-dark"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Debts")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_debt_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-brown"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Card")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_card_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",style:{"background-color":"red"}},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("No. of Pending Bills")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_pending_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",style:{"background-color":"teal"}},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Purchases/Inventory")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_daily_expense),1)]}),_:1})]),_:1})]),_:1})])]}),_:1}))}};var xs=D(ps,[["__scopeId","data-v-7266942e"]]);const g=x=>(M("data-v-a66af59e"),x=x(),A(),x),bs={class:"text-center q-pa-sm"},vs={style:{color:"#017951"}},gs={class:"desktop_stats row q-pa-sm"},ys={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ks=g(()=>t("br",null,null,-1)),qs=g(()=>t("hr",null,null,-1)),$s={class:"q-ma-sm small_text"},Ss={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Cs=g(()=>t("hr",null,null,-1)),ws={class:"q-ma-sm small_text"},Is={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Qs=g(()=>t("hr",null,null,-1)),Ps={class:"q-ma-sm small_text"},Ts={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Bs=g(()=>t("hr",null,null,-1)),Ds={class:"q-ma-sm small_text"},Ms={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},As=g(()=>t("hr",null,null,-1)),Ns={class:"q-ma-sm small_text"},zs={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Vs=g(()=>t("hr",null,null,-1)),Es={class:"q-ma-sm small_text"},Os={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Rs=g(()=>t("hr",null,null,-1)),js={class:"q-ma-sm small_text"},Js={key:1,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Ks=g(()=>t("br",null,null,-1)),Ls=g(()=>t("hr",null,null,-1)),Ws={class:"q-ma-sm small_text"},Fs={class:"mobile_stats q-pa-sm"},Gs={__name:"StatsAll",setup(x){const o=I();return w("account_stats_all",()=>o.fetchAllSalesStats()),(k,b)=>(p(),C(n,null,{default:l(()=>{var m,u;return[t("div",bs,[t("b",vs,[s(r,{name:"grain"}),d(" All Sales")])]),s(h,{color:"primary"}),t("div",gs,[t("div",ys,[s(n,{dark:"",class:"bg-primary"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Total "),ks,s(T,{size:"xs",flat:"",label:"view more",to:"/sales"}),qs,t("h6",$s,c((a=_(o))==null?void 0:a.total_sales),1)]}),_:1})]),_:1})]),t("div",Ss,[s(n,{dark:"",class:"bg-info"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Cash "),Cs,t("h6",ws,c((a=_(o))==null?void 0:a.total_cash_sales),1)]}),_:1})]),_:1})]),t("div",Is,[s(n,{dark:"",class:"bg-warning"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Mpesa "),Qs,t("h6",Ps,c((a=_(o))==null?void 0:a.total_mpesa_sales),1)]}),_:1})]),_:1})]),t("div",Ts,[s(n,{dark:"",class:"bg-indigo"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Mpesa & Cash "),Bs,t("h6",Ds,c((a=_(o))==null?void 0:a.total_mpesa_cash_sales),1)]}),_:1})]),_:1})]),t("div",Ms,[s(n,{dark:"",class:"bg-dark"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Debts "),As,t("h6",Ns,c((a=_(o))==null?void 0:a.total_debt_sales),1)]}),_:1})]),_:1})]),t("div",zs,[s(n,{dark:"",class:"bg-brown"},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Card "),Vs,t("h6",Es,c((a=_(o))==null?void 0:a.total_card_sales),1)]}),_:1})]),_:1})]),((m=_(o))==null?void 0:m.total_pending_sales)>0?(p(),$("div",Os,[s(n,{dark:"",style:{"background-color":"red"}},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" No. of Pending Bills "),Rs,t("h6",js,c((a=_(o))==null?void 0:a.total_pending_sales),1)]}),_:1})]),_:1})])):v("",!0),((u=_(o))==null?void 0:u.total_pending_sales)>0?(p(),$("div",Js,[s(n,{dark:"",style:{"background-color":"teal"}},{default:l(()=>[s(i,{class:"text-center"},{default:l(()=>{var a;return[d(" Purchases/Inventories "),Ks,s(T,{size:"xs",flat:"",label:"view more",to:"/inventories"}),Ls,t("h6",Ws,c((a=_(o))==null?void 0:a.total_expense),1)]}),_:1})]),_:1})])):v("",!0)]),t("div",Fs,[s(E,{bordered:""},{default:l(()=>[s(f,{dark:"",class:"bg-primary"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Total")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-info"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Cash")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_cash_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-warning"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Mpesa")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_mpesa_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-indigo"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Mpesa & Cash")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_mpesa_cash_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-dark"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Debts")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_debt_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",class:"bg-brown"},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Card")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_card_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",style:{"background-color":"red"}},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("No. of Pending Bills")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_pending_sales),1)]}),_:1})]),_:1}),s(h),s(f,{dark:"",style:{"background-color":"teal"}},{default:l(()=>[s(e,{avatar:""},{default:l(()=>[s(r,{name:"blur_on"})]),_:1}),s(e,null,{default:l(()=>[d("Purchases/Inventory")]),_:1}),s(e,{side:""},{default:l(()=>{var a;return[t("b",null,c((a=_(o))==null?void 0:a.total_expense),1)]}),_:1})]),_:1})]),_:1})])]}),_:1}))}};var Hs=D(Gs,[["__scopeId","data-v-a66af59e"]]);const Us={__name:"BarChart",setup(x){const o=O(),k=N({title:{text:"Sales Records for the last seven days",align:"left"},chart:{id:"apex-column"},colors:[y("primary"),y("secondary"),y("negative")],xaxis:{categories:[],title:{text:"Date/Days"}},yaxis:{title:{text:"Amount"}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}}}),b=z([{name:"Sales",data:[]}]);return w("sales",()=>o.fetchSevenDaysSales(),{onSuccess:m=>{var u,a;k.xaxis.categories=(u=m.map(S=>S.day))==null?void 0:u.reverse(),b.value[0].data=(a=m.map(S=>S.sales))==null?void 0:a.reverse()}}),(m,u)=>{const a=V("apexchart");return b.value[0].data.length>0?(p(),C(n,{key:0,class:"q-pa-sm"},{default:l(()=>[b.value[0].data.length?(p(),C(a,{key:0,type:"bar",options:k,series:b.value},null,8,["options","series"])):v("",!0)]),_:1})):v("",!0)}}},Xs={__name:"PieChart",setup(x){const o=I();w("today_product_sales",()=>o.fetchTodayProductSales(),{onSuccess:m=>{b.value=m.map(u=>u.quantity),k.labels=m.map(u=>u.name)}});const k=N({title:{text:"Todays Product Sales",align:"left"},chart:{id:"apex-donut"},colors:[y("secondary"),y("accent"),y("positive"),y("primary"),y("negative"),y("info")],markers:{size:4,hover:{sizeOffset:6}},labels:[]}),b=z([]);return(m,u)=>{const a=V("apexchart");return b.value.length>0?(p(),C(n,{key:0},{default:l(()=>[s(i,null,{default:l(()=>[b.value.length>0?(p(),C(a,{key:0,type:"pie",options:k,series:b.value,height:358},null,8,["options","series"])):v("",!0)]),_:1})]),_:1})):v("",!0)}}},Ys={class:"q-pa-sm"},Zs={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},sa={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},aa={key:0,class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},la={key:1,class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},ta={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},ha={__name:"Dashboard",setup(x){const o=R();return(k,b)=>{var m,u,a,S,Q,P;return p(),$("div",Ys,[t("div",Zs,[t("div",sa,[s(xs)]),_(B)((a=(u=(m=_(o))==null?void 0:m.user)==null?void 0:u.user)==null?void 0:a.roles)?(p(),$("div",aa,[s(Hs)])):v("",!0),_(B)((P=(Q=(S=_(o))==null?void 0:S.user)==null?void 0:Q.user)==null?void 0:P.roles)?(p(),$("div",la,[s(Us)])):v("",!0),t("div",ta,[s(Xs)])])])}}};export{ha as default};
